(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),l=(a(24),a(5)),c=a(6),s=a(8),m=a(7),u=a(9),p=(a(25),a(36)),d=a(37),h=a(38),b=a(17),f=a(35),v=a(16),E=a(11),y=(a(26),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).submitForm=function(e){e.preventDefault();var t=a.props,n=t.year,r=t.section,o=t.addMember,i=e.target,l=i.name.value,c=i.poste.value,s=i.photoPath.value,m=new XMLHttpRequest;m.onreadystatechange=function(){if(4===this.readyState&&201===this.status){var e=JSON.parse(this.responseText)._id;o({_id:e,name:l,poste:c,photoPath:s}),i.reset()}},m.open("POST","/api/equipe"),m.setRequestHeader("Content-type","application/x-www-form-urlencoded"),m.setRequestHeader("Authorization","Bearer ".concat(k("auth_token"))),m.send("year=".concat(n,"&section=").concat(r,"&name=").concat(l,"&poste=").concat(c,"&photoPath=").concat(s))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.props.section;return r.a.createElement("div",{className:"NewMemberForm"},r.a.createElement("h3",null,"Ajouter un membre"),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"name"},"Nom:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"poste"},"Poste:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"poste"})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"photoPath"},"Chemin de la photo:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"photoPath"})),r.a.createElement("button",{type:"submit"},"Create")))}}]),t}(r.a.Component)),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"submitForm",value:function(e){e.preventDefault(),alert(e.target.name.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"EditMemberForm"},r.a.createElement("h3",null,"Modification de ",this.props.name),r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"name"},"Nom:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",defaultValue:this.props.name})),r.a.createElement("button",{type:"submit"},"Modifier")))}}]),t}(r.a.Component),O=(a(27),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggleEditing=function(){a.setState(function(e){return{editing:!e.editing}})},a.deleteMember=function(){var e=a.props,t=e.id,n=e.name;if(window.confirm("Voulez-vous vraiment supprimer "+n+" ?")){var r=new XMLHttpRequest,o=Object(E.a)(Object(E.a)(a));r.onreadystatechange=function(){4===this.readyState&&202===this.status&&o.setState({deleted:!0})},r.open("DELETE","/api/equipe/"+t),r.setRequestHeader("Authorization","Bearer "+k("auth_token")),r.send()}},a.state={editing:!1,deleted:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.editing,a=e.deleted,o=this.props,i=o.year,l=o.loggedIn,c=o.section,s=o.name,m=o.poste,u=o.photoPath;return r.a.createElement("div",{className:"Member"},a?r.a.createElement("div",{className:"deletedMember"},"Le membre ",s," a \xe9t\xe9 supprim\xe9"):r.a.createElement(n.Fragment,null,l?r.a.createElement(n.Fragment,null,t?r.a.createElement(g,{year:i,section:c,name:s}):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:"../portraits/"+i+"/"+c+"/"+u,className:"photoMembre"}),r.a.createElement("h3",null,s),r.a.createElement("h4",null,m)),r.a.createElement("button",{onClick:this.toggleEditing},t?"Stop editing":"Switch to edit mode"),r.a.createElement("button",{onClick:this.deleteMember},"Supprimer ce membre")):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:"../portraits/"+i+"/"+c+"/"+u,className:"photoMembre"}),r.a.createElement("h3",null,s),r.a.createElement("h4",null,m))))}}]),t}(r.a.Component)),j=(a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).addMember=function(e){a.setState(function(t){return{members:[].concat(Object(v.a)(t.members),[e])}})},a.state={members:a.props.members},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({members:e.members})}},{key:"render",value:function(){var e=this.props,t=e.year,a=e.loggedIn,n=e.name,o=this.state.members,i=(n.charAt(0).toUpperCase()+n.substring(1)).replace(/_/g," ");return r.a.createElement("div",{className:"Section "+n},r.a.createElement("h1",null,i),a&&r.a.createElement(y,{year:t,section:n,addMember:this.addMember}),r.a.createElement("div",{className:"members"},o.map(function(e){return r.a.createElement(O,{year:t,loggedIn:a,section:n,id:e._id,name:e.name,poste:e.poste,photoPath:e.photoPath})})))}}]),t}(r.a.Component)),w=(a(29),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={year:a.props.year,sections:["bureau","r\xf4les","troupe","r\xe9gie","com","musique_et_chant","mise_en_sc\xe8ne","chor\xe9graphie","orchestre","d\xe9cors_et_costumes"],members:{}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.state.sections[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this.state.members[o]=[]}}catch(c){t=!0,a=c}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}var i=new XMLHttpRequest,l=this;i.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText),t={},a=!0,n=!1,r=void 0;try{for(var o,i=function(){var a=o.value;t[a]=e.filter(function(e){return e.section===a})},s=l.state.sections[Symbol.iterator]();!(a=(o=s.next()).done);a=!0)i()}catch(c){n=!0,r=c}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}l.setState({members:t})}},i.open("GET","/api/equipe/"+this.state.year),i.send()}},{key:"render",value:function(){var e=this,t=this.state,a=t.year,n=t.sections,o=t.members;return r.a.createElement("div",{className:"Team"},r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"introText"},r.a.createElement("h1",null,"Fame"),r.a.createElement("p",null,"Apr\xe8s les p\xe9rip\xe9ties de Footloose en Mai dernier, la CommuS\u2019 revient cette ann\xe9e pour vous pr\xe9senter Fame ! Grand classique de Broadway adapt\xe9 du film \xe9ponyme des ann\xe9es 90, Fame a d\xe9j\xe0 conquis des centaines de milliers de spectateurs \xe0 travers le monde."),r.a.createElement("p",null,"Notre troupe de plus de 50 acteurs, chanteurs et danseurs vous fera plonger dans l\u2019univers de la High School of Performing Arts o\xf9 les \xe9l\xe8ves travaillent sans r\xe9pit pour atteindre la c\xe9l\xe9brit\xe9."),r.a.createElement("p",null,"Entre \xe9checs et histoires d\u2019amour, suivez ces personnages tout au long de leur scolarit\xe9 pour partager leurs rires et larmes lors de ce spectacle musical  et artistique. "))),r.a.createElement("div",{className:"sections"},n.map(function(t){return r.a.createElement(j,{year:a,loggedIn:e.props.loggedIn,name:t,members:o[t]})})))}}]),t}(r.a.Component));function k(e){if(!document.cookie)return"";var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=!0,r=!1,o=void 0;try{for(var i,l=a[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){for(var c=i.value;" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length)}}catch(s){r=!0,o=s}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return""}var S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={authToken:null,loggedIn:!1,years:[2019]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=k("auth_token");e&&this.setState({authToken:e,loggedIn:!0})}},{key:"render",value:function(){var e=this.state,t=e.loggedIn,a=e.years;return r.a.createElement(p.a,{basename:"/equipe"},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"links"},a.map(function(e){return r.a.createElement(d.a,{className:"yearLink",to:"/"+e,activeStyle:{color:"white"}},e)})),r.a.createElement(h.a,null,a.map(function(e){return r.a.createElement(b.a,{path:"/"+e,component:function(){return r.a.createElement(w,{loggedIn:t,year:e})}})}),r.a.createElement(b.a,{component:function(){return r.a.createElement(f.a,{to:"/2019"})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.2941cd3e.chunk.js.map